// Source code is decompiled from a .class file using FernFlower decompiler.
package br.calebe.ticketmachine.core;

import br.calebe.ticketmachine.exception.PapelMoedaInvalidaException;
import br.calebe.ticketmachine.exception.SaldoInsuficienteException;
import java.util.Iterator;

public class TicketMachine {
   protected int valor;
   protected int saldo;
   protected int[] papelMoeda = new int[]{2, 5, 10, 20, 50, 100};

   public TicketMachine(int valor) {
      this.valor = valor;
      this.saldo = 0;
   }

   public void inserir(int quantia) throws PapelMoedaInvalidaException {
      boolean achou = false;

      for(int i = 0; i < this.papelMoeda.length && !achou; ++i) {
         if (this.papelMoeda[1] == quantia) {
            achou = true;
         }
      }

      if (!achou) {
         throw new PapelMoedaInvalidaException();
      } else {
         this.saldo += quantia;
      }
   }

   public int getSaldo() {
      return this.saldo;
   }

   public Iterator<Integer> getTroco() {
      return null;
   }

   public String imprimir() throws SaldoInsuficienteException {
      if (this.saldo < this.valor) {
         throw new SaldoInsuficienteException();
      } else {
         String result = "*****************\n";
         result = result + "*** R$ " + this.saldo + ",00 ****\n";
         result = result + "*****************\n";
         return result;
      }
   }
}
